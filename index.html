<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<style>
.button {
  background-color: #4CAF50; /* Green */
   border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
}
canvas {
    border:1px solid #d3d3d3;
    background-color: #f1f1f1;
}
</style>
<script src="sound.js"> </script>
<script>

function Create2DArray(rows) {
  var arr = [];

  for (var i=0;i<rows;i++) {
     arr[i] = [];
  }

  return arr;
}

var myGamePiece;
var myBackground;
var random=0;
var turn='yellow';
var bac
i=0;
var whichYellow=-1;
var whichRed=-1;
var whichBlue=-1;
var whichGreen=-1;
yPath=Create2DArray(55);

Path=[[6,13],[6,12],[6,11],[6,10],[6,9],[5,8],[4,8],[3,8],[2,8],[1,8],[0,8],[0,7],[0,6],[1,6],[2,6],[3,6],[4,6],[5,6],[6,5],[6,4],[6,3],[6,2],[6,1],[6,0],[7,0],[8,0],[8,1],[8,2],[8,3],[8,4],[8,5],[9,6],[10,6],[11,6],[12,6],[13,6],[14,6],[14,7],[14,8],[13,8],[12,8],[11,8],[10,8],[9,8],[9,9],[9,10],[9,11],[9,12],[9,13],[9,14],[8,14],[7,14],[6,14]];
yellowPath=[[6,13],[6,12],[6,11],[6,10],[6,9],[5,8],[4,8],[3,8],[2,8],[1,8],[0,8],[0,7],[0,6],[1,6],[2,6],[3,6],[4,6],[5,6],[6,5],[6,4],[6,3],[6,2],[6,1],[6,0],[7,0],[8,0],[8,1],[8,2],[8,3],[8,4],[8,5],[9,6],[10,6],[11,6],[12,6],[13,6],[14,6],[14,7],[14,8],[13,8],[12,8],[11,8],[10,8],[9,8],[8,9],[8,10],[8,11],[8,12],[8,13],[8,14],[7,14],[7,13],[7,12],[7,11],[7,10],[7,9],[7,8]];
greenPath=[[1,6],[2,6],[3,6],[4,6],[5,6],[6,5],[6,4],[6,3],[6,2],[6,1],[6,0],[7,0],[8,0],[8,1],[8,2],[8,3],[8,4],[8,5],[9,6],[10,6],[11,6],[12,6],[13,6],[14,6],[14,7],[14,8],[13,8],[12,8],[11,8],[10,8],[9,8],[8,9],[8,10],[8,11],[8,12],[8,13],[8,14],[7,14],[6,14],[6,13],[6,12],[6,11],[6,10],[6,9],[5,8],[4,8],[3,8],[2,8],[1,8],[0,8],[0,7],[1,7],[2,7],[3,7],[4,7],[5,7],[6,7]];
redPath=[[8,1],[8,2],[8,3],[8,4],[8,5],[9,6],[10,6],[11,6],[12,6],[13,6],[14,6],[14,7],[14,8],[13,8],[12,8],[11,8],[10,8],[9,8],[8,9],[8,10],[8,11],[8,12],[8,13],[8,14],[7,14],[6,14],[6,13],[6,12],[6,11],[6,10],[6,9],[5,8],[4,8],[3,8],[2,8],[1,8],[0,8],[0,7],[0,6],[1,6],[2,6],[3,6],[4,6],[5,6],[6,5],[6,4],[6,3],[6,2],[6,1],[6,0],[7,0],[7,1],[7,2],[7,3],[7,4],[7,5],[7,6]];
bluePath=[[13,8],[12,8],[11,8],[10,8],[9,8],[8,9],[8,10],[8,11],[8,12],[8,13],[8,14],[7,14],[6,14],[6,13],[6,12],[6,11],[6,10],[6,9],[5,8],[4,8],[3,8],[2,8],[1,8],[0,8],[0,7],[0,6],[1,6],[2,6],[3,6],[4,6],[5,6],[6,5],[6,4],[6,3],[6,2],[6,1],[6,0],[7,0],[8,0],[8,1],[8,2],[8,3],[8,4],[8,5],[9,6],[10,6],[11,6],[12,6],[13,6],[14,6],[14,7],[13,7],[12,7],[11,7],[10,7],[9,7],[8,7]];
var red=[];
var green=[];
var blue=[];
var yellow=[];
var greenOut=0;
var redOut=0;
var blueOut=0;
var yellowOut=0;
var extra=false;
var backgroundMusic;
var click;
var step;
function startGame() {
  click=new sound("click.mp3");
  step=new sound("step.mp3");
  backgroundMusic = new sound("background.mp3");
  backgroundMusic.play();
	myBackground = new component(480,480, "ludo.png", 0, 0, "image",-2);
    myGamePiece = new component(25, 25, "red1.png", 10, 10, "image",-2);


    yellow[0]=new component(30, 30, "yellow.png", 2, 11, "image",-1);
    yellow[1]=new component(30, 30, "yellow.png", 3, 11, "image",-1);
    yellow[2]=new component(30, 30, "yellow.png", 2, 12, "image",-1);
    yellow[3]=new component(30, 30, "yellow.png", 3, 12, "image",-1);
    red[0]=new component(30, 30, "red.png", 11,2, "image",25);
    red[1]=new component(30, 30, "red.png", 12,2, "image",25);
    red[2]=new component(30, 30, "red.png", 11,3, "image",25);
    red[3]=new component(30, 30, "red.png",12,3, "image",25);
    blue[0]=new component(30, 30, "blue.png", 11, 11, "image",38);
    blue[1]=new component(30, 30, "blue.png", 12, 11, "image",38);
    blue[2]=new component(30, 30, "blue.png", 11,12, "image",38);
    blue[3]=new component(30, 30, "blue.png", 12, 12, "image",38);
    green[0]=new component(30, 30, "green.png", 2, 2, "image",12);
    green[1]=new component(30, 30, "green.png", 3, 2, "image",12);
    green[2]=new component(30, 30, "green.png", 2, 3, "image",12);
    green[3]=new component(30, 30, "green.png", 3, 3, "image",12);
    myGameArea.start();
}
boxSize=32;
var myGameArea = {
    canvas : document.createElement("canvas"),

    start : function() {
    	this.canvas.setAttribute("id","ludo_canvas");
        this.canvas.width = 480;
        this.canvas.height = 480;
        this.context = this.canvas.getContext("2d");
        document.body.insertBefore(this.canvas, document.body.childNodes[0]);
        this.frameNo = 0;
        this.interval = setInterval(updateGameArea, 300);
        this.canvas.addEventListener('click', function (e) {
        	//var x1=e.x-$('#ludo_canvas').offset().left;
        	//var y1=e.y-$('#ludo_canvas').offset().top;
        	//var x1 = (e.pageX - $('#ludo_canvas').offset().left) + $(window).scrollLeft();
			//var y1 = (e.pageY - $('#ludo_canvas').offset().top) + $(window).scrollTop();
			var rect=document.getElementById("ludo_canvas").getBoundingClientRect();
			x1=e.clientX-rect.left;
			y1=e.clientY-rect.top;
        	var clickboxx=Math.floor(x1/boxSize);
        	var clickboxy=Math.floor(y1/boxSize);
        	handler(clickboxx,clickboxy);
        	console.log("Fdsfd");
        });
    },
    clear : function() {
        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
    },
    stop : function() {
        clearInterval(this.interval);
    }
}
function handler(boxx,boxy){
	var j;
	console.log("asa");
	if(turn=="yellow"){
		for(j=0;j<4;j++)
		{	console.log(boxx+" "+boxy);
			console.log(yellow[j].x+" "+yellow[j].y);
			if(yellow[j].x==boxx && yellow[j].y==boxy){
				whichYellow=j;
				break;
			}

		}
	}
	else if(turn=="red"){
		for(j=0;j<4;j++)
		{
			if(red[j].x==boxx && red[j].y==boxy){
				whichRed=j;
				break;
			}

		}
	}
	else if(turn=="green"){
		for(j=0;j<4;j++)
		{
			if(green[j].x==boxx && green[j].y==boxy){
				whichGreen=j;
				break;
			}

		}
	}
	else if(turn=="blue"){
		for(j=0;j<4;j++)
		{
			if(blue[j].x==boxx && blue[j].y==boxy){
				whichBlue=j;
				break;
			}

		}
	}
}

function component(width, height, color, x, y, type,block) {
    this.type = type;
    if (type == "image") {
        this.image = new Image();
        this.image.src = color;
    }
    this.pos=-1;
    this.extra=false;
    this.block=block;
    this.width = width;
    this.height = height;
    this.speedX = 0;
    this.speedY = 0;
    this.initPosX=x;
    this.initPosY=y;
    this.x = x;
    this.y = y;
    this.update = function() {
        ctx = myGameArea.context;
        if (type == "image") {
            ctx.drawImage(this.image,
                this.x*32,
                this.y*32,
                this.width, this.height);
        } else {
            ctx.fillStyle = color;
            ctx.fillRect(this.x, this.y, this.width, this.height);
        }
    }
    this.newPos = function() {
        this.x += this.speedX;
        this.y += this.speedY;
    }
}
function checkForAnother()
{
  switch (turn) {
    case 'blue':
      var b=blue[whichBlue].block;
      if(b!=38 && b!=8 && b!=21 && b!=34 && b!=47){
            switch (b) {
              case yellow[0].block:
                yellow[0].x=yellow[0].initPosX;
                yellow[0].y=yellow[0].initPosY;
                yellow[0].block=-1;
                yellow[0].pos=-1;
                yellowOut--;
                break;
              case yellow[1].block:
                yellow[1].x=yellow[1].initPosX;
                yellow[1].y=yellow[1].initPosY;
                yellow[1].block=-1;
                yellow[1].pos=-1;
                yellowOut--;
                break;
              case yellow[2].block:
                yellow[2].x=yellow[2].initPosX;
                yellow[2].y=yellow[2].initPosY;;
                yellow[2].block=-1;
                yellow[2].pos=-1;
                yellowOut--;
                break;
              case yellow[3].block:
                yellow[3].x=yellow[3].initPosX;;
                yellow[3].y=yellow[3].initPosY;;
                yellow[3].block=-1;
                yellow[3].pos=-1;
                yellowOut--;
                break;
                case green[0].block:
                  green[0].x=green[0].initPosX;
                  green[0].y=green[0].initPosY;
                  green[0].block=12;
                  green[0].pos=-1;
                  greenOut--;
                  break;
                case green[1].block:
                  green[1].x=green[1].initPosX;
                  green[1].y=green[1].initPosY;
                  green[1].block=12;
                  green[1].pos=-1;
                  greenOut--;
                  break;
                case green[2].block:
                  green[2].x=green[2].initPosX;
                  green[2].y=green[2].initPosY;
                  green[2].block=12;
                  green[2].pos=-1;
                  greenOut--;
                  break;
                case green[3].block:
                  green[3].x=green[3].initPosX;
                  green[3].y=green[3].initPosY;
                  green[3].block=12;
                  green[3].pos=-1;
                  greenOut--;
                  break;
                  case red[0].block:
                    red[0].x=red[0].initPosX;
                    red[0].y=red[0].initPosY;
                    red[0].block=25;
                    red[0].pos=-1;
                    redOut--;
                    break;
                  case red[1].block:
                    red[1].x=red[1].initPosX;
                    red[1].y=red[1].initPosY;
                    red[1].block=25;
                    red[1].pos=-1;
                    redOut--;
                    break;
                  case red[2].block:
                    red[2].x=red[2].initPosX;
                    red[2].y=red[2].initPosY;
                    red[2].block=25;
                    red[2].pos=-1;
                    redOut--;
                    break;
                  case red[3].block:
                    red[3].x=red[3].initPosX;
                    red[3].y=red[3].initPosY;
                    red[3].block=25;
                    red[3].pos=-1;
                    redOut--;
                    break;
            }
        }
      break;
      case 'yellow':
      var b=yellow[whichYellow].block;
      if(b!=51 && b!=8 && b!=21 && b!=34 && b!=47){
            switch (b) {
              case blue[0].block:
                blue[0].x=blue[0].initPosX;
                blue[0].y=blue[0].initPosY;
                blue[0].block=38;
                blue[0].pos=-1;
                blueOut--;
                break;
              case blue[1].block:
                blue[1].x=blue[1].initPosX;
                blue[1].y=blue[1].initPosY;
                blue[1].block=38;
                blue[1].pos=-1;
                blueOut--;
                break;
              case blue[2].block:
                blue[2].x=blue[2].initPosX;
                blue[2].y=blue[2].initPosY;
                blue[2].block=38;
                blue[2].pos=-1;
                  blueOut--;
                break;
              case blue[3].block:
                blue[3].x=blue[3].initPosX;
                blue[3].y=blue[3].initPosY;
                blue[3].block=38;
                blue[3].pos=-1;
                  blueOut--;
                break;
              case green[0].block:
                  green[0].x=green[0].initPosX;
                  green[0].y=green[0].initPosY;
                  green[0].block=12;
                  green[0].pos=-1;
                  greenOut--;
                  break;
                case green[1].block:
                  green[1].x=green[1].initPosX;
                  green[1].y=green[1].initPosY;
                  green[1].block=12;
                  green[1].pos=-1;
                  greenOut--;
                  break;
                case green[2].block:
                  green[2].x=green[2].initPosX;
                  green[2].y=green[2].initPosY;
                  green[2].block=12;
                  green[2].pos=-1;
                  greenOut--;
                  break;
                case green[3].block:
                  green[3].x=green[3].initPosX;
                  green[3].y=green[3].initPosY;
                  green[3].block=12;
                  green[3].pos=-1;
                  greenOut--;
                  break;
              case red[0].block:
                    red[0].x=red[0].initPosX;
                    red[0].y=red[0].initPosY;
                    red[0].block=25;
                    red[0].pos=-1;
                    redOut--;
                    break;
                  case red[1].block:
                    red[1].x=red[1].initPosX;
                    red[1].y=red[1].initPosY;
                    red[1].block=25;
                    red[1].pos=-1;
                    redOut--;
                    break;
                  case red[2].block:
                    red[2].x=red[2].initPosX;
                    red[2].y=red[2].initPosY;
                    red[2].block=25;
                    red[2].pos=-1;
                    redOut--;
                    break;
                  case red[3].block:
                    red[3].x=red[3].initPosX;
                    red[3].y=red[3].initPosY;
                    red[3].block=25;
                    red[3].pos=-1;
                    redOut--;
                    break;
            }
        }
        break;
        case 'green':
        var b=green[whichGreen].block;
        if(b!=12 && b!=8 && b!=21 && b!=34 && b!=47){
          switch (b) {
               case blue[0].block:
                blue[0].x=blue[0].initPosX;
                blue[0].y=blue[0].initPosY;
                blue[0].block=38;
                blue[0].pos=-1;
                blueOut--;
                break;
               case blue[1].block:
                blue[1].x=blue[1].initPosX;
                blue[1].y=blue[1].initPosY;
                blue[1].block=38;
                blue[1].pos=-1;
                blueOut--;
                break;
               case blue[2].block:
                blue[2].x=blue[2].initPosX;
                blue[2].y=blue[2].initPosY;
                blue[2].block=38;
                blue[2].pos=-1;
                  blueOut--;
                break;
               case blue[3].block:
                blue[3].x=blue[3].initPosX;
                blue[3].y=blue[3].initPosY;
                blue[3].block=38;
                blue[3].pos=-1;
                  blueOut--;
                break;
               case yellow[0].block:
                yellow[0].x=yellow[0].initPosX;
                yellow[0].y=yellow[0].initPosY;
                yellow[0].block=-1;
                yellow[0].pos=-1;
                yellowOut--;
                break;
              case yellow[1].block:
                yellow[1].x=yellow[1].initPosX;
                yellow[1].y=yellow[1].initPosY;
                yellow[1].block=-1;
                yellow[1].pos=-1;
                yellowOut--;
                break;
              case yellow[2].block:
                yellow[2].x=yellow[2].initPosX;
                yellow[2].y=yellow[2].initPosY;;
                yellow[2].block=-1;
                yellow[2].pos=-1;
                yellowOut--;
                break;
              case yellow[3].block:
                yellow[3].x=yellow[3].initPosX;;
                yellow[3].y=yellow[3].initPosY;;
                yellow[3].block=-1;
                yellow[3].pos=-1;
                yellowOut--;
                break;
                    case red[0].block:
                    red[0].x=red[0].initPosX;
                    red[0].y=red[0].initPosY;
                    red[0].block=25;
                    red[0].pos=-1;
                    redOut--;
                    break;
                  case red[1].block:
                    red[1].x=red[1].initPosX;
                    red[1].y=red[1].initPosY;
                    red[1].block=25;
                    red[1].pos=-1;
                    redOut--;
                    break;
                  case red[2].block:
                    red[2].x=red[2].initPosX;
                    red[2].y=red[2].initPosY;
                    red[2].block=25;
                    red[2].pos=-1;
                    redOut--;
                    break;
                  case red[3].block:
                    red[3].x=red[3].initPosX;
                    red[3].y=red[3].initPosY;
                    red[3].block=25;
                    red[3].pos=-1;
                    redOut--;
                    break;
              }
          }
          break;
          case 'red':
          var b=red[whichRed].block;
          if(b!=25 && b!=8 && b!=21 && b!=34 && b!=47){
                switch (b) {
                  case blue[0].block:
                blue[0].x=blue[0].initPosX;
                blue[0].y=blue[0].initPosY;
                blue[0].block=38;
                blue[0].pos=-1;
                blueOut--;
                break;
               case blue[1].block:
                blue[1].x=blue[1].initPosX;
                blue[1].y=blue[1].initPosY;
                blue[1].block=38;
                blue[1].pos=-1;
                blueOut--;
                break;
               case blue[2].block:
                blue[2].x=blue[2].initPosX;
                blue[2].y=blue[2].initPosY;
                blue[2].block=38;
                blue[2].pos=-1;
                  blueOut--;
                break;
               case blue[3].block:
                blue[3].x=blue[3].initPosX;
                blue[3].y=blue[3].initPosY;
                blue[3].block=38;
                blue[3].pos=-1;
                  blueOut--;
                break;
                case yellow[0].block:
                yellow[0].x=yellow[0].initPosX;
                yellow[0].y=yellow[0].initPosY;
                yellow[0].block=-1;
                yellow[0].pos=-1;
                yellowOut--;
                break;
              case yellow[1].block:
                yellow[1].x=yellow[1].initPosX;
                yellow[1].y=yellow[1].initPosY;
                yellow[1].block=-1;
                yellow[1].pos=-1;
                yellowOut--;
                break;
              case yellow[2].block:
                yellow[2].x=yellow[2].initPosX;
                yellow[2].y=yellow[2].initPosY;;
                yellow[2].block=-1;
                yellow[2].pos=-1;
                yellowOut--;
                break;
              case yellow[3].block:
                yellow[3].x=yellow[3].initPosX;;
                yellow[3].y=yellow[3].initPosY;;
                yellow[3].block=-1;
                yellow[3].pos=-1;
                yellowOut--;
                break;
                      case green[0].block:
                  green[0].x=green[0].initPosX;
                  green[0].y=green[0].initPosY;
                  green[0].block=12;
                  green[0].pos=-1;
                  greenOut--;
                  break;
                case green[1].block:
                  green[1].x=green[1].initPosX;
                  green[1].y=green[1].initPosY;
                  green[1].block=12;
                  green[1].pos=-1;
                  greenOut--;
                  break;
                case green[2].block:
                  green[2].x=green[2].initPosX;
                  green[2].y=green[2].initPosY;
                  green[2].block=12;
                  green[2].pos=-1;
                  greenOut--;
                  break;
                case green[3].block:
                  green[3].x=green[3].initPosX;
                  green[3].y=green[3].initPosY;
                  green[3].block=12;
                  green[3].pos=-1;
                  greenOut--;
                  break;
                }
            }
            break;
  }
}
function checkWinner()
{
  if(yellow[0].pos==56 && yellow[1].pos==56 && yellow[2].pos==56 && yellow[3].pos==56)
  document.getElementById('id').innerHTML="winner is yellow";
  if(green[0].pos==56 && green[1].pos==56 && green[2].pos==56 && green[3].pos==56)
  document.getElementById('id').innerHTML="winner is green";
  if(blue[0].pos==56 && blue[1].pos==56 && blue[2].pos==56 && blue[3].pos==56)
  document.getElementById('id').innerHTML="winner is blue";
  if(red[0].pos==56 && red[1].pos==56 && red[2].pos==56 && red[3].pos==56)
  document.getElementById('id').innerHTML="winner is red";

}
function updateGameArea() {
    myGameArea.clear();
    myBackground.newPos();
    myBackground.update();
    if(random!=0){
      if(whichYellow!=-1)
      {
        if(yellow[0].pos==-1 && yellow[1].pos==-1 && yellow[2].pos==-1 && yellow[3].pos==-1 && random!=6)
        {
          random=0;
          turn='green';
          whichYellow=-1;
        }
        else if (yellow[whichYellow].pos==-1 && random!=6) {
          document.getElementById('id1').innerHTML="try another button";
        }
        else if(random > 56-yellow[whichYellow].pos){
          if(yellowOut==1){
            random=0;
            turn='green';
            whichYellow=-1;
          }
          else if(yellowOut >1)
          {
            var i;
            var ok=false;
            for (i = 0; i < 4; i++) {
              if(yellow[i].pos !=-1 && random <= 56-yellow[i].pos)
              ok=true;
            }
            if(ok){
              document.getElementById("id").innerHTML="press another button";
              whichYellow=-1;
            }
            else{
              random=0;
              turn='green';
              whichYellow=-1;
            }
          }
        }
        else {
          if(yellow[whichYellow].pos==-1){
            random=1;
            extra=true;
            yellowOut++;
          }
          yellow[whichYellow].pos++;
          yellow[whichYellow].x=yellowPath[yellow[whichYellow].pos][0];
          yellow[whichYellow].y=yellowPath[yellow[whichYellow].pos][1];
          yellow[whichYellow].block=(1+yellow[whichYellow].block)%52;
          random--;
          if(random==0){
          checkForAnother();
          if(extra==false)
          turn='green';
          extra=false;
          if(yellow[whichYellow].pos==56)
          yellowOut--;
          whichYellow=-1;
        }
       }
      }
      else if (whichGreen!=-1) {
        if(green[0].pos==-1 && green[1].pos==-1 && green[2].pos==-1 && green[3].pos==-1 && random!=6)
        {
          turn='red';
          random=0;
          whichGreen=-1;
        }
        else if (green[whichGreen].pos==-1 && random!=6) {
          document.getElementById('id1').innerHTML="try another button G";
        }
        else if(random > 56-green[whichGreen].pos){
          if(greenOut==1){
            random=0;
            turn='red';
            whichGreen=-1;
          }
          else if(greenOut >1)
          {
            var i;
            var ok=false;
            for (i = 0; i < 4; i++) {
              if(green[i].pos !=-1 && random <= 56-green[i].pos)
              ok=true;
            }
            if(ok){
              document.getElementById("id").innerHTML="press another button";
              whichGreen=-1;
            }
            else{
              random=0;
              turn='red';
              whichGreen=-1;
            }
          }
        }
        else{
          if(green[whichGreen].pos==-1)
          {
            random=1;
            extra=true;
            greenOut++;
          }
          green[whichGreen].pos++;
          green[whichGreen].x=greenPath[green[whichGreen].pos][0];
          green[whichGreen].y=greenPath[green[whichGreen].pos][1];
          green[whichGreen].block=(1+green[whichGreen].block)%52;
          random--;
          if(random==0){
            checkForAnother();
            whichGreen=-1;
            if(extra==false)
            turn='red';
            extra=false;
          }
        }
      }
      else if (whichRed!=-1) {
        if(red[0].pos==-1 && red[1].pos==-1 && red[2].pos==-1 && red[3].pos==-1 && random!=6)
        {
          random=0;
          turn='blue';
          whichRed=-1;
        }
        else if (red[whichRed].pos==-1 && random!=6) {
          document.getElementById('id1').innerHTML="try another button R";
        }
        else if(random > 56-red[whichRed].pos){
          console.log("red ok");
          if(redOut==1){
            random=0;
            turn='blue';
            whichRed=-1;
          }
          else if(redOut >1)
          {
            var i;
            var ok=false;
            for (i = 0; i < 4; i++) {
              if(red[i].pos !=-1 && random <= 56-red[i].pos)
              ok=true;
            }
            if(ok){
              document.getElementById("id").innerHTML="press another button";
              whichRed=-1;
            }
            else{
              random=0;
              turn='blue';
              whichRed=-1;
            }
          }
        }
        else{
          if(red[whichRed].pos==-1){
            random=1;
            extra=true;
            redOut++;
          }
          red[whichRed].pos++;
          red[whichRed].x=redPath[red[whichRed].pos][0];
          red[whichRed].y=redPath[red[whichRed].pos][1];
          red[whichRed].block=(1+red[whichRed].block)%52;
          random--;
          console.log("red Pos: "+red[whichRed].pos);
          if(random==0){
            checkForAnother();
            whichRed=-1;
            if(extra==false)
            turn='blue';
            extra=false;
          }
        }
      }
      else if (whichBlue!=-1) {
          if(blue[0].pos==-1 && blue[1].pos==-1 && blue[2].pos==-1 && blue[3].pos==-1 && random!=6)
          {
            turn='yellow';
            random=0;
            whichBlue=-1;
          }
          else if (blue[whichBlue].pos==-1 && random!=6) {
            document.getElementById('id1').innerHTML="try another button B";
          }
          else if(random > 56-blue[whichBlue].pos){
            if(blueOut==1){
              random=0;
              turn='yellow';
              whichBlue=-1;
            }
            else if(blueOut >1)
            {
              var i;
              var ok=false;
              for (i = 0; i < 4; i++) {
                if(blue[i].pos !=-1 && random <= 56-blue[i].pos)
                ok=true;
              }
              if(ok){
                document.getElementById("id").innerHTML="press another button";
                whichBlue=-1;
              }
              else{
                random=0;
                turn='yellow';
                whichBlue=-1;
              }
            }
          }
          else{
          if(blue[whichBlue].pos==-1){
            random=1;
            extra=true;
            blueOut++;
          }
          blue[whichBlue].pos++;
          blue[whichBlue].x=bluePath[blue[whichBlue].pos][0];
          blue[whichBlue].y=bluePath[blue[whichBlue].pos][1];
          blue[whichBlue].block=(1+blue[whichBlue].block)%52;
          random--;
          if(random==0){
            checkForAnother();
            whichBlue=-1;
            if(extra==false)
            turn='yellow';
            extra=false;
          }

        }
      }
    }
    //console.log("random "+random);
    document.getElementById('random').innerHTML=random+", Turn="+turn;

    yellow[0].newPos();
    yellow[0].update();
    yellow[1].newPos();
    yellow[1].update();
    yellow[2].newPos();
    yellow[2].update();
    yellow[3].newPos();
    yellow[3].update();
    red[0].newPos();
    red[0].update();
    red[1].newPos();
    red[1].update();
    red[2].newPos();
    red[2].update();
    red[3].newPos();
    red[3].update();
    green[0].newPos();
    green[0].update();
    green[1].newPos();
    green[1].update();
    green[2].newPos();
    green[2].update();
    green[3].newPos();
    green[3].update();
    blue[0].newPos();
    blue[0].update();
    blue[1].newPos();
    blue[1].update();
    blue[2].newPos();
    blue[2].update();
    blue[3].newPos();
    blue[3].update();
    checkWinner();
}

function setRandom() {
  random=Math.floor(Math.random() * 6)+1;
  /*random=document.getElementById("num").value;
  console.log(random);
  console.log("red"+redPath.length);
  console.log(bluePath.length);
  console.log("yellow"+yellowPath.length);
  console.log(greenPath.length); */
}

function move(str){
  switch (str) {
    case 'y1':
    if(turn=="yellow")
    whichYellow=0;
    break;
    case 'y2':
    if(turn=="yellow")
    whichYellow=1;
    break;
    case 'y3':
    if(turn=="yellow")
    whichYellow=2;
    break;
    case 'y4':
    if(turn=="yellow")
    whichYellow=3;
    break;
    case 'b1':
    if(turn=="blue")
    { whichBlue=0;
    console.log("hi");
  }
    break;
    case 'b2':
    if(turn=="blue")
    whichBlue=1;
    break;
    case 'b3':
    if(turn=="blue")
    whichBlue=2;
    break;
    case 'b4':
    if(turn=="blue")
    whichBlue=3;
    break;
    case 'r1':
    if(turn=="red")
    whichRed=0;
    break;
    case 'r2':
    if(turn=="red")
    whichRed=1;
    break;
    case 'r3':
    if(turn=="red")
    whichRed=2;
    break;
    case 'r4':
    if(turn=="red")
    whichRed=3;
    break;
    case 'g1':
    if(turn=="green")
    whichGreen=0;
    break;
    case 'g2':
    if(turn=="green")
    whichGreen=1;
    break;
    case 'g3':
    if(turn=="green")
    whichGreen=2;
    break;
    case 'g4':
    if(turn=="green")
    whichGreen=3;
    break;
  }
}
</script>
</head>
<body onload="startGame();" >
<audio id="myTune">
  <source src="click.mp3">
</audio>
<div style="text-align:center;width:480px;" id="id" >

</div>
<h3 id="random"> </h3>
<!--
<input type="number" id="num" value="2"> -->
<input type="button" class="button" value="Roll !!" name="click" onclick="setRandom();document.getElementById('myTune').play();">
<!--
<input type="button" class="button" value="Yellow1" name="click1" onclick="move('y1');document.getElementById('myTune').play();">
<input type="button" class="button" value="Yellow2" name="click2" onclick="move('y2');document.getElementById('myTune').play();">
<input type="button" class="button" value="Yellow3" name="click3" onclick="move('y3');document.getElementById('myTune').play();">
<input type="button" class="button" value="Yellow4" name="click4" onclick="move('y4');document.getElementById('myTune').play();">
<input type="button" class="button" value="green1" name="click1" onclick="move('g1');document.getElementById('myTune').play();">
<input type="button" class="button" value="green2" name="click2" onclick="move('g2');document.getElementById('myTune').play();">
<input type="button" class="button" value="green3" name="click3" onclick="move('g3');document.getElementById('myTune').play();">
<input type="button" class="button" value="green4" name="click4" onclick="move('g4');document.getElementById('myTune').play();">
<input type="button" class="button" value="Blue1" name="click1" onclick="move('b1');document.getElementById('myTune').play();">
<input type="button" class="button" value="Blue2" name="click2" onclick="move('b2');document.getElementById('myTune').play();">
<input type="button" class="button" value="Blue3" name="click3" onclick="move('b3');document.getElementById('myTune').play();">
<input type="button" class="button" value="Blue4" name="click4" onclick="move('b4');document.getElementById('myTune').play();">
<input type="button" class="button" value="Red1" name="click1" onclick="move('r1');document.getElementById('myTune').play();">
<input type="button" class="button" value="Red2" name="click2" onclick="move('r2');document.getElementById('myTune').play();">
<input type="button" class="button" value="Red3" name="click3" onclick="move('r3');document.getElementById('myTune').play();">
<input type="button" class="button" value="Red4" name="click4" onclick="move('r4');document.getElementById('myTune').play();"> -->
<h3 id="id1" > </h3>

</body>
</html>
